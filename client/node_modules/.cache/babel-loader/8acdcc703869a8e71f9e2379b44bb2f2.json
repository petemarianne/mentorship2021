{"ast":null,"code":"var _jsxFileName = \"/Users/petemarianne/WebstormProjects/DogShop/src/components/Header/Header.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport './Header.scss';\nimport { AppBar, Button, InputBase, Toolbar, Avatar, IconButton, Drawer, Modal } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport logo from \"../../assets/images/logo.svg\";\nimport AccountDropdown from './AccountDropdown/AccountDropdown';\nimport DrawerMenu from './DrawerMenu/DrawerMenu';\nimport { Link, Redirect, useLocation } from 'react-router-dom';\nimport { AdFormModal } from '../AdFormModal/AdFormModal';\nimport { useScreenSize } from '../../hooks/useScreenSize';\nimport { FilterContext } from '../../contexts/filter-context';\nimport { db } from '../../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Header = () => {\n  _s();\n\n  const [breed, setBreed] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const [isDropdownOpen, setIsDropdownOpen] = useState(null);\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\n  const currentPathname = useLocation().pathname;\n  const {\n    filter,\n    setFilterState\n  } = useContext(FilterContext);\n  const {\n    desktop\n  } = useScreenSize();\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDropdownOpen = event => {\n    setIsDropdownOpen(event.currentTarget);\n  };\n\n  const handleDropdownClose = () => {\n    setIsDropdownOpen(null);\n  };\n\n  const handleDrawer = value => {\n    setIsDrawerOpen(value);\n  };\n\n  const handleBreed = event => {\n    setBreed(event.target.value);\n  };\n\n  const handleEnter = event => {\n    if (event.key === 'Enter') {\n      localStorage.setItem('search', JSON.stringify({\n        breed: breed\n      }));\n      setFilterState({ ...filter,\n        breed\n      });\n\n      if (currentPathname !== '/') {\n        setRedirect(true);\n      } else {\n        setRedirect(false);\n      }\n    }\n  };\n\n  const renderRedirect = () => {\n    if (redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  };\n\n  const fetchLoggedInUsersAvatar = async () => {\n    const usersCollection = await db.collection('users').where('id', '==', 'seller1').get();\n    const user = usersCollection.docs.map(doc => {\n      return doc.data();\n    })[0];\n    return Promise.resolve(user.avatar);\n  };\n\n  const [loggedInUsersAvatar, setLoggedInUsersAvatar] = useState('');\n  useEffect(() => {\n    if (!JSON.parse(localStorage.getItem('search'))) {\n      localStorage.setItem('search', JSON.stringify({\n        breed: ''\n      }));\n    }\n\n    if (JSON.parse(localStorage.getItem('search')).breed !== '') {\n      localStorage.setItem('search', JSON.stringify({\n        breed: ''\n      }));\n    }\n\n    setBreed(JSON.parse(localStorage.getItem('search')).breed);\n    fetchLoggedInUsersAvatar().then(response => {\n      setLoggedInUsersAvatar(response);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AppBar, {\n    color: \"inherit\",\n    position: \"static\",\n    className: \"header-wrapper\",\n    elevation: 0,\n    children: /*#__PURE__*/_jsxDEV(Toolbar, {\n      className: \"toolbar\",\n      children: [desktop && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          className: \"toolbar-left-side desktop\",\n          to: \"/\",\n          style: {\n            textDecoration: 'none'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: logo,\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"G \\xA0SHOP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search desktop\",\n          children: /*#__PURE__*/_jsxDEV(InputBase, {\n            placeholder: \"Search for a breed\\u2026\",\n            value: breed,\n            onChange: handleBreed,\n            onKeyDown: handleEnter,\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toolbar-right-side desktop\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"submit-an-ad-button-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\",\n              variant: \"contained\",\n              className: \"submit-an-ad-button\",\n              onClick: handleOpen,\n              children: \"Submit an ad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleDropdownOpen,\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              className: \"avatar-header\",\n              src: loggedInUsersAvatar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(ArrowDropDownIcon, {\n              className: \"icons-triangle icons-color\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), !desktop && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toolbar-left-side mobile\",\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"start\",\n            \"aria-haspopup\": \"true\",\n            className: \"menu-button\",\n            onClick: () => handleDrawer(true),\n            children: /*#__PURE__*/_jsxDEV(MenuIcon, {\n              fontSize: \"large\",\n              className: \"menu-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n            elevation: 2,\n            anchor: \"left\",\n            open: isDrawerOpen,\n            onClose: () => handleDrawer(false),\n            children: /*#__PURE__*/_jsxDEV(DrawerMenu, {\n              avatar: loggedInUsersAvatar,\n              handleDrawer: handleDrawer,\n              handleOpen: handleOpen\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"logo\",\n            to: \"/\",\n            style: {\n              textDecoration: 'none'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: logo,\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 94\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search mobile\",\n          children: /*#__PURE__*/_jsxDEV(InputBase, {\n            placeholder: \"Search\\u2026\",\n            value: breed,\n            onChange: handleBreed,\n            onKeyDown: handleEnter,\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(AccountDropdown, {\n        isOpen: isDropdownOpen,\n        handleDropdown: handleDropdownClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: open,\n        onClose: handleClose,\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        className: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: /*#__PURE__*/_jsxDEV(AdFormModal, {\n            handleClose: handleClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), renderRedirect()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Header, \"hhfZiWbBpe8uVdpPA4Ne84D3x8E=\", false, function () {\n  return [useLocation, useScreenSize];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/petemarianne/WebstormProjects/DogShop/src/components/Header/Header.tsx"],"names":["React","useContext","useEffect","useState","AppBar","Button","InputBase","Toolbar","Avatar","IconButton","Drawer","Modal","MenuIcon","ArrowDropDownIcon","AccountDropdown","DrawerMenu","Link","Redirect","useLocation","AdFormModal","useScreenSize","FilterContext","db","Header","breed","setBreed","redirect","setRedirect","isDropdownOpen","setIsDropdownOpen","isDrawerOpen","setIsDrawerOpen","currentPathname","pathname","filter","setFilterState","desktop","open","setOpen","handleOpen","handleClose","handleDropdownOpen","event","currentTarget","handleDropdownClose","handleDrawer","value","handleBreed","target","handleEnter","key","localStorage","setItem","JSON","stringify","renderRedirect","fetchLoggedInUsersAvatar","usersCollection","collection","where","get","user","docs","map","doc","data","Promise","resolve","avatar","loggedInUsersAvatar","setLoggedInUsersAvatar","parse","getItem","then","response","textDecoration","logo"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAO,eAAP;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,SAAzB,EAAoCC,OAApC,EAA6CC,MAA7C,EAAqDC,UAArD,EAAiEC,MAAjE,EAAyEC,KAAzE,QAAsF,mBAAtF;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;;AAEA,OAAOC,eAAP,MAA4B,mCAA5B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,WAAzB,QAA4C,kBAA5C;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,aAAT,QAA8B,2BAA9B;AACA,SAASC,aAAT,QAA8B,+BAA9B;AACA,SAASC,EAAT,QAAmB,gBAAnB;;;;AAEA,MAAMC,MAAgB,GAAG,MAAmB;AAAA;;AACxC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAS,EAAT,CAAlC;AACA,QAAM,CAACuB,QAAD,EAAWC,WAAX,IAA0BxB,QAAQ,CAAU,KAAV,CAAxC;AACA,QAAM,CAACyB,cAAD,EAAiBC,iBAAjB,IAAsC1B,QAAQ,CAAiB,IAAjB,CAApD;AACA,QAAM,CAAC2B,YAAD,EAAeC,eAAf,IAAkC5B,QAAQ,CAAU,KAAV,CAAhD;AACA,QAAM6B,eAAuB,GAAGd,WAAW,GAAGe,QAA9C;AAEA,QAAM;AAACC,IAAAA,MAAD;AAASC,IAAAA;AAAT,MAA2BlC,UAAU,CAACoB,aAAD,CAA3C;AAEA,QAAM;AAACe,IAAAA;AAAD,MAAYhB,aAAa,EAA/B;AAEA,QAAM,CAACiB,IAAD,EAAOC,OAAP,IAAkBnC,QAAQ,CAAU,KAAV,CAAhC;;AAEA,QAAMoC,UAAU,GAAG,MAAY;AAC3BD,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH,GAFD;;AAIA,QAAME,WAAW,GAAG,MAAY;AAC5BF,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAFD;;AAIA,QAAMG,kBAAkB,GAAIC,KAAD,IAAmC;AAC1Db,IAAAA,iBAAiB,CAACa,KAAK,CAACC,aAAP,CAAjB;AACH,GAFD;;AAIA,QAAMC,mBAAmB,GAAG,MAAY;AACpCf,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACH,GAFD;;AAIA,QAAMgB,YAAY,GAAIC,KAAD,IAA0B;AAC3Cf,IAAAA,eAAe,CAACe,KAAD,CAAf;AACH,GAFD;;AAIA,QAAMC,WAAW,GAAIL,KAAD,IAAsD;AACtEjB,IAAAA,QAAQ,CAACiB,KAAK,CAACM,MAAN,CAAaF,KAAd,CAAR;AACH,GAFD;;AAIA,QAAMG,WAAW,GAAIP,KAAD,IAAsC;AACtD,QAAIA,KAAK,CAACQ,GAAN,KAAc,OAAlB,EAA2B;AACvBC,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BC,IAAI,CAACC,SAAL,CAAe;AAAC9B,QAAAA,KAAK,EAAEA;AAAR,OAAf,CAA/B;AACAW,MAAAA,cAAc,CAAC,EAAC,GAAGD,MAAJ;AAAYV,QAAAA;AAAZ,OAAD,CAAd;;AACA,UAAIQ,eAAe,KAAK,GAAxB,EAA6B;AACzBL,QAAAA,WAAW,CAAC,IAAD,CAAX;AACH,OAFD,MAEO;AACHA,QAAAA,WAAW,CAAC,KAAD,CAAX;AACH;AACJ;AACJ,GAVD;;AAYA,QAAM4B,cAAc,GAAG,MAAmB;AACtC,QAAI7B,QAAJ,EAAc;AACV,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AACD,wBAAO,qCAAP;AACH,GALD;;AAOA,QAAM8B,wBAAwB,GAAG,YAA6B;AAC1D,UAAMC,eAAe,GAAG,MAAMnC,EAAE,CAACoC,UAAH,CAAc,OAAd,EAAuBC,KAAvB,CAA6B,IAA7B,EAAkC,IAAlC,EAAuC,SAAvC,EAAkDC,GAAlD,EAA9B;AACA,UAAMC,IAAI,GAAGJ,eAAe,CAACK,IAAhB,CAAqBC,GAArB,CAA0BC,GAAD,IAAS;AAAC,aAAOA,GAAG,CAACC,IAAJ,EAAP;AAAmB,KAAtD,EAAwD,CAAxD,CAAb;AACA,WAAOC,OAAO,CAACC,OAAR,CAAgBN,IAAI,CAACO,MAArB,CAAP;AACH,GAJD;;AAMA,QAAM,CAACC,mBAAD,EAAsBC,sBAAtB,IAAgDnE,QAAQ,CAAS,EAAT,CAA9D;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACmD,IAAI,CAACkB,KAAL,CAAWpB,YAAY,CAACqB,OAAb,CAAqB,QAArB,CAAX,CAAL,EAA2D;AACvDrB,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA8BC,IAAI,CAACC,SAAL,CAAe;AAAC9B,QAAAA,KAAK,EAAE;AAAR,OAAf,CAA9B;AACH;;AACD,QAAI6B,IAAI,CAACkB,KAAL,CAAWpB,YAAY,CAACqB,OAAb,CAAqB,QAArB,CAAX,EAAqDhD,KAArD,KAA+D,EAAnE,EAAuE;AACnE2B,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA8BC,IAAI,CAACC,SAAL,CAAe;AAAC9B,QAAAA,KAAK,EAAE;AAAR,OAAf,CAA9B;AACH;;AACDC,IAAAA,QAAQ,CAAC4B,IAAI,CAACkB,KAAL,CAAWpB,YAAY,CAACqB,OAAb,CAAqB,QAArB,CAAX,EAAqDhD,KAAtD,CAAR;AACAgC,IAAAA,wBAAwB,GAAGiB,IAA3B,CAAiCC,QAAD,IAAc;AAC1CJ,MAAAA,sBAAsB,CAACI,QAAD,CAAtB;AACH,KAFD;AAGH,GAXQ,EAWN,EAXM,CAAT;AAaA,sBACI,QAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,QAAQ,EAAC,QAAjC;AAA0C,IAAA,SAAS,EAAC,gBAApD;AAAqE,IAAA,SAAS,EAAE,CAAhF;AAAA,2BACI,QAAC,OAAD;AAAS,MAAA,SAAS,EAAC,SAAnB;AAAA,iBACKtC,OAAO,iBACJ;AAAA,gCACI,QAAC,IAAD;AAAM,UAAA,SAAS,EAAC,2BAAhB;AAA4C,UAAA,EAAE,EAAC,GAA/C;AAAmD,UAAA,KAAK,EAAE;AAAEuC,YAAAA,cAAc,EAAE;AAAlB,WAA1D;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,mCAAsB;AAAK,cAAA,GAAG,EAAEC,IAAV;AAAgB,cAAA,GAAG,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA;AAAtB;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAMI;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,iCACI,QAAC,SAAD;AAAW,YAAA,WAAW,EAAC,0BAAvB;AAA6C,YAAA,KAAK,EAAEpD,KAApD;AAA2D,YAAA,QAAQ,EAAEuB,WAArE;AAAkF,YAAA,SAAS,EAAEE,WAA7F;AAA0G,YAAA,SAAS;AAAnH;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBANJ,eASI;AAAK,UAAA,SAAS,EAAC,4BAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,6BAAf;AAAA,mCACI,QAAC,MAAD;AAAQ,cAAA,KAAK,EAAC,SAAd;AAAwB,cAAA,OAAO,EAAC,WAAhC;AAA4C,cAAA,SAAS,EAAC,qBAAtD;AAA4E,cAAA,OAAO,EAAEV,UAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAEE,kBAAjB;AAAA,oCACI,QAAC,MAAD;AAAQ,cAAA,SAAS,EAAC,eAAlB;AAAkC,cAAA,GAAG,EAAE4B;AAAvC;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,QAAC,iBAAD;AAAmB,cAAA,SAAS,EAAC;AAA7B;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ;AAAA,sBAFR,EAsBK,CAACjC,OAAD,iBACG;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,0BAAf;AAAA,kCACI,QAAC,UAAD;AACI,YAAA,IAAI,EAAC,OADT;AAEI,6BAAc,MAFlB;AAGI,YAAA,SAAS,EAAC,aAHd;AAII,YAAA,OAAO,EAAE,MAAMS,YAAY,CAAC,IAAD,CAJ/B;AAAA,mCAMI,QAAC,QAAD;AAAU,cAAA,QAAQ,EAAC,OAAnB;AAA2B,cAAA,SAAS,EAAC;AAArC;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eASI,QAAC,MAAD;AACI,YAAA,SAAS,EAAE,CADf;AAEI,YAAA,MAAM,EAAC,MAFX;AAGI,YAAA,IAAI,EAAEf,YAHV;AAII,YAAA,OAAO,EAAE,MAAMe,YAAY,CAAC,KAAD,CAJ/B;AAAA,mCAMI,QAAC,UAAD;AAAY,cAAA,MAAM,EAAEwB,mBAApB;AAAyC,cAAA,YAAY,EAAExB,YAAvD;AAAqE,cAAA,UAAU,EAAEN;AAAjF;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,kBATJ,eAiBI,QAAC,IAAD;AAAM,YAAA,SAAS,EAAC,MAAhB;AAAuB,YAAA,EAAE,EAAC,GAA1B;AAA8B,YAAA,KAAK,EAAE;AAAEoC,cAAAA,cAAc,EAAE;AAAlB,aAArC;AAAA,mCAAiE;AAAK,cAAA,GAAG,EAAEC,IAAV;AAAgB,cAAA,GAAG,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA;AAAjE;AAAA;AAAA;AAAA;AAAA,kBAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAoBI;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,iCACI,QAAC,SAAD;AAAW,YAAA,WAAW,EAAC,cAAvB;AAAiC,YAAA,KAAK,EAAEpD,KAAxC;AAA+C,YAAA,QAAQ,EAAEuB,WAAzD;AAAsE,YAAA,SAAS,EAAEE,WAAjF;AAA8F,YAAA,SAAS;AAAvG;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBApBJ;AAAA,sBAvBR,eAgDI,QAAC,eAAD;AAAiB,QAAA,MAAM,EAAErB,cAAzB;AAAyC,QAAA,cAAc,EAAEgB;AAAzD;AAAA;AAAA;AAAA;AAAA,cAhDJ,eAiDI,QAAC,KAAD;AACI,QAAA,IAAI,EAAEP,IADV;AAEI,QAAA,OAAO,EAAEG,WAFb;AAGI,2BAAgB,oBAHpB;AAII,4BAAiB,0BAJrB;AAKI,QAAA,SAAS,EAAC,OALd;AAAA,+BAMI;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,iCACI,QAAC,WAAD;AAAa,YAAA,WAAW,EAAEA;AAA1B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,cAjDJ,EA2DKe,cAAc,EA3DnB;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAiEH,CA9ID;;GAAMhC,M;UAK8BL,W,EAIdE,a;;;KAThBG,M;AAgJN,eAAeA,MAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport './Header.scss';\nimport { AppBar, Button, InputBase, Toolbar, Avatar, IconButton, Drawer, Modal } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport logo from '../../assets/images/logo.svg';\nimport AccountDropdown from './AccountDropdown/AccountDropdown';\nimport DrawerMenu from './DrawerMenu/DrawerMenu';\nimport { Link, Redirect, useLocation } from 'react-router-dom';\nimport { AdFormModal } from '../AdFormModal/AdFormModal';\nimport { useScreenSize } from '../../hooks/useScreenSize';\nimport { FilterContext } from '../../contexts/filter-context';\nimport { db } from '../../firebase';\n\nconst Header: React.FC = (): JSX.Element => {\n    const [breed, setBreed] = useState<string>('');\n    const [redirect, setRedirect] = useState<boolean>(false);\n    const [isDropdownOpen, setIsDropdownOpen] = useState<Element | null>(null);\n    const [isDrawerOpen, setIsDrawerOpen] = useState<boolean>(false);\n    const currentPathname: string = useLocation().pathname;\n\n    const {filter, setFilterState} = useContext(FilterContext);\n\n    const {desktop} = useScreenSize();\n\n    const [open, setOpen] = useState<boolean>(false);\n\n    const handleOpen = (): void => {\n        setOpen(true);\n    };\n\n    const handleClose = (): void => {\n        setOpen(false);\n    };\n\n    const handleDropdownOpen = (event: React.MouseEvent): void => {\n        setIsDropdownOpen(event.currentTarget);\n    }\n\n    const handleDropdownClose = (): void => {\n        setIsDropdownOpen(null);\n    }\n\n    const handleDrawer = (value: boolean): void => {\n        setIsDrawerOpen(value);\n    }\n\n    const handleBreed = (event: React.ChangeEvent<HTMLInputElement>): void => {\n        setBreed(event.target.value);\n    }\n\n    const handleEnter = (event: React.KeyboardEvent): void => {\n        if (event.key === 'Enter') {\n            localStorage.setItem('search', JSON.stringify({breed: breed}));\n            setFilterState({...filter, breed});\n            if (currentPathname !== '/') {\n                setRedirect(true);\n            } else {\n                setRedirect(false);\n            }\n        }\n    }\n\n    const renderRedirect = (): JSX.Element => {\n        if (redirect) {\n            return <Redirect to='/' />;\n        }\n        return <></>;\n    }\n\n    const fetchLoggedInUsersAvatar = async (): Promise<string> => {\n        const usersCollection = await db.collection('users').where('id','==','seller1').get();\n        const user = usersCollection.docs.map((doc) => {return doc.data();})[0];\n        return Promise.resolve(user.avatar);\n    };\n\n    const [loggedInUsersAvatar, setLoggedInUsersAvatar] = useState<string>('');\n\n    useEffect(() => {\n        if (!JSON.parse(localStorage.getItem('search') as string)) {\n            localStorage.setItem('search',JSON.stringify({breed: ''}));\n        }\n        if (JSON.parse(localStorage.getItem('search') as string).breed !== '') {\n            localStorage.setItem('search',JSON.stringify({breed: ''}));\n        }\n        setBreed(JSON.parse(localStorage.getItem('search') as string).breed);\n        fetchLoggedInUsersAvatar().then((response) => {\n            setLoggedInUsersAvatar(response);\n        })\n    }, [])\n\n    return (\n        <AppBar color='inherit' position='static' className='header-wrapper' elevation={0}>\n            <Toolbar className='toolbar'>\n                {desktop && (\n                    <>\n                        <Link className='toolbar-left-side desktop' to='/' style={{ textDecoration: 'none' }}>\n                            <div>D</div>\n                            <div className='logo'><img src={logo} alt='logo'/></div>\n                            <div>G &nbsp;SHOP</div>\n                        </Link>\n                        <div className='search desktop'>\n                            <InputBase placeholder='Search for a breed…' value={breed} onChange={handleBreed} onKeyDown={handleEnter} fullWidth/>\n                        </div>\n                        <div className='toolbar-right-side desktop'>\n                            <div className='submit-an-ad-button-wrapper'>\n                                <Button color='primary' variant='contained' className='submit-an-ad-button' onClick={handleOpen}>Submit an ad</Button>\n                            </div>\n                            <Button onClick={handleDropdownOpen}>\n                                <Avatar className='avatar-header' src={loggedInUsersAvatar}/>\n                                <ArrowDropDownIcon className='icons-triangle icons-color' />\n                            </Button>\n                        </div>\n                    </>\n                )}\n                {!desktop && (\n                    <>\n                        <div className='toolbar-left-side mobile'>\n                            <IconButton\n                                edge='start'\n                                aria-haspopup='true'\n                                className='menu-button'\n                                onClick={() => handleDrawer(true)}\n                            >\n                                <MenuIcon fontSize='large' className='menu-icon' />\n                            </IconButton>\n                            <Drawer\n                                elevation={2}\n                                anchor='left'\n                                open={isDrawerOpen}\n                                onClose={() => handleDrawer(false)}\n                            >\n                                <DrawerMenu avatar={loggedInUsersAvatar} handleDrawer={handleDrawer} handleOpen={handleOpen}/>\n                            </Drawer>\n                            <Link className='logo' to='/' style={{ textDecoration: 'none' }}><img src={logo} alt='logo'/></Link>\n                        </div>\n                        <div className='search mobile'>\n                            <InputBase placeholder='Search…' value={breed} onChange={handleBreed} onKeyDown={handleEnter} fullWidth/>\n                        </div>\n                    </>\n                )}\n                <AccountDropdown isOpen={isDropdownOpen} handleDropdown={handleDropdownClose} />\n                <Modal\n                    open={open}\n                    onClose={handleClose}\n                    aria-labelledby='simple-modal-title'\n                    aria-describedby='simple-modal-description'\n                    className='modal'>\n                    <div className='modal-content'>\n                        <AdFormModal handleClose={handleClose}/>\n                    </div>\n                </Modal>\n                {renderRedirect()}\n            </Toolbar>\n        </AppBar>\n    );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}