{"ast":null,"code":"var _jsxFileName = \"/Users/petemarianne/WebstormProjects/DogShop/src/pages/Ad/Ad.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Modal } from '@material-ui/core';\nimport './Ad.scss';\nimport { toDate } from '../../utils/toDate.ts';\nimport { useScreenSize } from '../../hooks/useScreenSize';\nimport { Link, useParams } from 'react-router-dom';\nimport { db } from '../../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Ad = () => {\n  _s();\n\n  const {\n    desktop,\n    tablet,\n    mobile\n  } = useScreenSize();\n  const [ad, setAd] = useState({});\n  const [user, setUser] = useState({});\n  const [open, setOpen] = useState(false);\n  const [userDate, setUserDate] = useState(new Date());\n  const [adDate, setAdDate] = useState(new Date());\n  const {\n    id\n  } = useParams();\n  const [userID, setUserID] = useState('');\n\n  const fetchAd = async () => {\n    const adsCollection = await db.collection('dogAds').where('id', '==', `ad${id}`).get();\n    const ad = adsCollection.docs.map(doc => {\n      return doc.data();\n    })[0];\n    return Promise.resolve(ad);\n  };\n\n  const fetchUser = async id => {\n    const usersCollection = await db.collection('users').where('id', '==', id).get();\n    const user = usersCollection.docs.map(doc => {\n      return doc.data();\n    })[0];\n    return Promise.resolve(user);\n  };\n\n  useEffect(() => {\n    fetchAd().then(response1 => {\n      setAd(response1);\n      setAdDate(toDate(response1.date));\n      fetchUser(response1.sellerID).then(response2 => {\n        setUserID(response2.id.substring(6));\n        setUser(response2);\n        setUserDate(toDate(response2.date));\n      });\n    });\n  });\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const pictureJSX = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pic-wrapper\",\n    onClick: handleOpen,\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: ad.picture,\n      alt: 'ad'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 74\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 24\n  }, this);\n\n  const sellerInfoJSX = /*#__PURE__*/_jsxDEV(Link, {\n    className: \"seller-info-wrapper\",\n    to: userID === '1' ? '/myprofile' : `/profile${userID}`,\n    style: {\n      color: 'black',\n      textDecoration: 'none'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"avatar-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: user.avatar,\n        alt: \"User avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 49\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"username\",\n        children: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ads-count\",\n        children: [\"Ads: \", user.activeAds]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"date\",\n        children: [\"On Dog Shop since \", userDate.toLocaleString('default', {\n          month: 'long',\n          year: 'numeric'\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 13\n  }, this);\n\n  const buttonsJSX = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"call-button-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        variant: \"contained\",\n        className: \"call-button\",\n        children: \"Call\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"email-button-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        color: \"primary\",\n        variant: \"outlined\",\n        className: \"email-button\",\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [desktop && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ad-page-desktop-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"picture-info-seller-wrapper\",\n        children: [pictureJSX, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"breed\",\n            children: ad.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"location\",\n            children: [ad.city, \", \", ad.country]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price\",\n            children: [ad.price, \"$\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"date\",\n            children: [\"published on \", adDate.toLocaleString('default', {\n              day: 'numeric',\n              month: 'long',\n              year: 'numeric',\n              hour: 'numeric',\n              minute: 'numeric'\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttons-seller-info-wrapper\",\n          children: [buttonsJSX, sellerInfoJSX]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"description-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description\",\n          children: ad.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: open,\n        onClose: handleClose,\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        className: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-picture\",\n          children: pictureJSX\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }, this), tablet && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ad-page-tablet-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pic-wrapper-wrapper\",\n        children: pictureJSX\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"date\",\n          children: adDate.toLocaleString('default', {\n            day: 'numeric',\n            month: 'long',\n            year: 'numeric',\n            hour: 'numeric',\n            minute: 'numeric'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"breed-location-price-buttons-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"breed-location-price-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"breed\",\n              children: ad.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"location\",\n              children: [ad.city, \", \", ad.country]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price\",\n              children: [ad.price, \"$\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"buttons-wrapper\",\n            children: buttonsJSX\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description-title\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description\",\n          children: ad.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this), sellerInfoJSX]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }, this), mobile && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ad-page-mobile-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pic-wrapper-wrapper\",\n        children: pictureJSX\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"date\",\n          children: adDate.toLocaleString('default', {\n            day: 'numeric',\n            month: 'long',\n            year: 'numeric',\n            hour: 'numeric',\n            minute: 'numeric'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"breed-location-price-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"breed-location-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"breed\",\n              children: ad.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"location\",\n              children: [ad.city, \", \", ad.country]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price\",\n            children: [ad.price, \"$\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description-title\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description\",\n          children: ad.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }, this), buttonsJSX, sellerInfoJSX]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Ad, \"MpCsE/nzyFxNb5b0bBvLv19oxH8=\", false, function () {\n  return [useScreenSize, useParams];\n});\n\n_c = Ad;\nexport default Ad;\n\nvar _c;\n\n$RefreshReg$(_c, \"Ad\");","map":{"version":3,"sources":["/Users/petemarianne/WebstormProjects/DogShop/src/pages/Ad/Ad.jsx"],"names":["React","useEffect","useState","Button","Modal","toDate","useScreenSize","Link","useParams","db","Ad","desktop","tablet","mobile","ad","setAd","user","setUser","open","setOpen","userDate","setUserDate","Date","adDate","setAdDate","id","userID","setUserID","fetchAd","adsCollection","collection","where","get","docs","map","doc","data","Promise","resolve","fetchUser","usersCollection","then","response1","date","sellerID","response2","substring","handleOpen","handleClose","pictureJSX","picture","sellerInfoJSX","color","textDecoration","avatar","name","activeAds","toLocaleString","month","year","buttonsJSX","title","city","country","price","day","hour","minute","description"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Button, Modal } from '@material-ui/core';\nimport './Ad.scss';\nimport { toDate } from '../../utils/toDate.ts';\nimport { useScreenSize } from '../../hooks/useScreenSize';\nimport { Link, useParams } from 'react-router-dom';\nimport { db } from '../../firebase';\n\nconst Ad = () => {\n    const {desktop, tablet, mobile} = useScreenSize();\n    const [ad, setAd] = useState({});\n    const [user, setUser] = useState({});\n    const [open, setOpen] = useState(false);\n    const [userDate, setUserDate] = useState(new Date());\n    const [adDate, setAdDate] = useState(new Date());\n    const { id } = useParams();\n    const [userID, setUserID] = useState('');\n\n    const fetchAd = async () => {\n        const adsCollection = await db.collection('dogAds').where('id','==',`ad${id}`).get();\n        const ad = adsCollection.docs.map((doc) => {return doc.data();})[0];\n        return Promise.resolve(ad);\n    }\n\n    const fetchUser = async (id) => {\n        const usersCollection = await db.collection('users').where('id','==', id).get();\n        const user = usersCollection.docs.map((doc) => {return doc.data();})[0];\n        return Promise.resolve(user);\n    }\n\n    useEffect(() => {\n        fetchAd().then((response1) => {\n            setAd(response1);\n            setAdDate(toDate(response1.date));\n            fetchUser(response1.sellerID).then((response2) => {\n                setUserID(response2.id.substring(6));\n                setUser(response2);\n                setUserDate(toDate(response2.date));\n            });\n        });\n    })\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const pictureJSX = <div className='pic-wrapper' onClick={handleOpen}><img src={ad.picture} alt={'ad'}/></div>;\n\n    const sellerInfoJSX =\n            <Link className='seller-info-wrapper' to={userID === '1' ? '/myprofile' : `/profile${userID}`} style={{ color: 'black', textDecoration: 'none' }}>\n                <div className='avatar-wrapper'><img src={user.avatar} alt='User avatar'/></div>\n                <div className='info-wrapper'>\n                    <div className='username'>{user.name}</div>\n                    <div className='ads-count'>Ads: {user.activeAds}</div>\n                    <div className='date'>On Dog Shop since {userDate.toLocaleString('default', {month: 'long',  year: 'numeric'})}</div>\n                </div>\n            </Link>;\n    const buttonsJSX =\n        <>\n            <div className='call-button-wrapper'>\n                <Button color='primary' variant='contained' className='call-button'>Call</Button>\n            </div>\n            <div className='email-button-wrapper'>\n                <Button color='primary' variant='outlined' className='email-button'>Email</Button>\n            </div>\n        </>;\n\n    return (\n        <>\n            {desktop && (\n                <div className='ad-page-desktop-wrapper'>\n                    <div className='picture-info-seller-wrapper'>\n                        {pictureJSX}\n                        <div className='info-wrapper'>\n                            <div className='breed'>{ad.title}</div>\n                            <div className='location'>{ad.city}, {ad.country}</div>\n                            <div className='price'>{ad.price}$</div>\n                            <div className='date'>published on {adDate.toLocaleString('default', {day: 'numeric', month: 'long', year: 'numeric', hour: 'numeric', minute: 'numeric'})}</div>\n                        </div>\n                        <div className='buttons-seller-info-wrapper'>\n                            {buttonsJSX}\n                            {sellerInfoJSX}\n                        </div>\n                    </div>\n                    <div className='description-wrapper'>\n                        <div>Description</div>\n                        <div className='description'>{ad.description}</div>\n                    </div>\n                    <Modal\n                        open={open}\n                        onClose={handleClose}\n                        aria-labelledby='simple-modal-title'\n                        aria-describedby='simple-modal-description'\n                        className='modal'>\n                        <div className='modal-picture'>\n                            {pictureJSX}\n                        </div>\n                    </Modal>\n                </div>\n            )}\n            {tablet && (\n                <div className='ad-page-tablet-wrapper'>\n                    <div className='pic-wrapper-wrapper'>{pictureJSX}</div>\n                    <div className='info-wrapper'>\n                        <div className='date'>{adDate.toLocaleString('default', {day: 'numeric', month: 'long', year: 'numeric', hour: 'numeric', minute: 'numeric'})}</div>\n                        <div className='breed-location-price-buttons-wrapper'>\n                            <div className='breed-location-price-wrapper'>\n                                <div className='breed'>{ad.title}</div>\n                                <div className='location'>{ad.city}, {ad.country}</div>\n                                <div className='price'>{ad.price}$</div>\n                            </div>\n                            <div className='buttons-wrapper'>\n                                {buttonsJSX}\n                            </div>\n                        </div>\n                        <div className='description-title'>Description</div>\n                        <div className='description'>{ad.description}</div>\n                        {sellerInfoJSX}\n                    </div>\n                </div>\n            )}\n            {mobile && (\n                <div className='ad-page-mobile-wrapper'>\n                    <div className='pic-wrapper-wrapper'>{pictureJSX}</div>\n                    <div className='info-wrapper'>\n                        <div className='date'>{adDate.toLocaleString('default', {day: 'numeric', month: 'long', year: 'numeric', hour: 'numeric', minute: 'numeric'})}</div>\n                        <div className='breed-location-price-wrapper'>\n                            <div className='breed-location-wrapper'>\n                                <div className='breed'>{ad.title}</div>\n                                <div className='location'>{ad.city}, {ad.country}</div>\n                            </div>\n                            <div className='price'>{ad.price}$</div>\n                        </div>\n                        <div className='description-title'>Description</div>\n                        <div className='description'>{ad.description}</div>\n                        {buttonsJSX}\n                        {sellerInfoJSX}\n                    </div>\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default Ad;\n"]},"metadata":{},"sourceType":"module"}