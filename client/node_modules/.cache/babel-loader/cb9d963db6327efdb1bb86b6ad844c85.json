{"ast":null,"code":"var _jsxFileName = \"/Users/petemarianne/WebstormProjects/DogShop/src/components/Header/Header.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport './Header.scss';\nimport { AppBar, Button, InputBase, Toolbar, Avatar, IconButton, Drawer, Modal } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport logo from \"../../assets/images/logo.svg\";\nimport AccountDropdown from './AccountDropdown/AccountDropdown';\nimport DrawerMenu from './DrawerMenu/DrawerMenu';\nimport { Link, Redirect, useLocation } from 'react-router-dom';\nimport { AdFormModal } from '../AdFormModal/AdFormModal';\nimport { useScreenSize } from '../../hooks/useScreenSize';\nimport { FilterContext } from '../../contexts/filter-context';\nimport { db } from '../../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Header = () => {\n  _s();\n\n  const [breed, setBreed] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const currentPathname = useLocation().pathname;\n  const {\n    filter,\n    setFilterState\n  } = useContext(FilterContext);\n  const {\n    desktop\n  } = useScreenSize();\n  const [states, setStates] = useState({\n    isDropdownOpen: null,\n    isDrawerOpen: false\n  });\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDropdownOpen = event => {\n    setStates(currentStates => ({ ...currentStates,\n      isDropdownOpen: event.currentTarget\n    }));\n  };\n\n  const handleDropdownClose = () => {\n    setStates(currentStates => ({ ...currentStates,\n      isDropdownOpen: null\n    }));\n  };\n\n  const handleDrawer = value => {\n    setStates(currentStates => ({ ...currentStates,\n      isDrawerOpen: value\n    }));\n  };\n\n  const handleBreed = event => {\n    setBreed(event.target.value);\n  };\n\n  const handleEnter = event => {\n    if (event.key === 'Enter') {\n      localStorage.setItem('search', JSON.stringify({\n        breed: breed\n      }));\n      setFilterState({ ...filter,\n        breed\n      });\n\n      if (currentPathname !== '/') {\n        setRedirect(true);\n      } else {\n        setRedirect(false);\n      }\n    }\n  };\n\n  const renderRedirect = () => {\n    if (redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 20\n      }, this);\n    }\n  };\n\n  const fetchLoggedInUser = async () => {\n    const usersCollection = await db.collection('users').where('id', '==', 'seller1').get();\n    const user = usersCollection.docs.map(doc => {\n      return doc.data();\n    })[0];\n    return Promise.resolve(user);\n  };\n\n  const [loggedInUser, setLoggedInUser] = useState({});\n  useEffect(() => {\n    if (!JSON.parse(localStorage.getItem('search'))) {\n      localStorage.setItem('search', JSON.stringify({\n        breed: ''\n      }));\n    }\n\n    if (JSON.parse(localStorage.getItem('search')).breed !== '') {\n      localStorage.setItem('search', JSON.stringify({\n        breed: ''\n      }));\n    }\n\n    setBreed(JSON.parse(localStorage.getItem('search')).breed);\n    fetchLoggedInUser().then(response => {\n      setLoggedInUser(response);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AppBar, {\n    color: \"inherit\",\n    position: \"static\",\n    className: \"header-wrapper\",\n    elevation: 0,\n    children: /*#__PURE__*/_jsxDEV(Toolbar, {\n      className: \"toolbar\",\n      children: [desktop && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          className: \"toolbar-left-side desktop\",\n          to: \"/\",\n          style: {\n            textDecoration: 'none'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: logo,\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"G \\xA0SHOP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search desktop\",\n          children: /*#__PURE__*/_jsxDEV(InputBase, {\n            placeholder: \"Search for a breed\\u2026\",\n            value: breed,\n            onChange: handleBreed,\n            onKeyDown: handleEnter,\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toolbar-right-side desktop\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"submit-an-ad-button-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\",\n              variant: \"contained\",\n              className: \"submit-an-ad-button\",\n              onClick: handleOpen,\n              children: \"Submit an ad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleDropdownOpen,\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              className: \"avatar-header\",\n              src: loggedInUser.avatar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(ArrowDropDownIcon, {\n              className: \"icons-triangle icons-color\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), !desktop && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"toolbar-left-side mobile\",\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"start\",\n            \"aria-haspopup\": \"true\",\n            className: \"menu-button\",\n            onClick: () => handleDrawer(true),\n            children: /*#__PURE__*/_jsxDEV(MenuIcon, {\n              fontSize: \"large\",\n              className: \"menu-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n            elevation: 2,\n            anchor: \"left\",\n            open: states.isDrawerOpen,\n            onClose: () => handleDrawer(false),\n            children: /*#__PURE__*/_jsxDEV(DrawerMenu, {\n              avatar: loggedInUser.avatar,\n              handleDrawer: () => handleDrawer(false),\n              handleOpen: handleOpen\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"logo\",\n            to: \"/\",\n            style: {\n              textDecoration: 'none'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: logo,\n              alt: \"logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 94\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search mobile\",\n          children: /*#__PURE__*/_jsxDEV(InputBase, {\n            placeholder: \"Search\\u2026\",\n            value: breed,\n            onChange: handleBreed,\n            onKeyDown: handleEnter,\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(AccountDropdown, {\n        isOpen: states.isDropdownOpen,\n        handleDropdown: handleDropdownClose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: open,\n        onClose: handleClose,\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        className: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: /*#__PURE__*/_jsxDEV(AdFormModal, {\n            handleClose: handleClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), renderRedirect()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Header, \"vdB8isAkOOcRyeu42Tepjkq+aFQ=\", false, function () {\n  return [useLocation, useScreenSize];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["/Users/petemarianne/WebstormProjects/DogShop/src/components/Header/Header.jsx"],"names":["React","useContext","useEffect","useState","AppBar","Button","InputBase","Toolbar","Avatar","IconButton","Drawer","Modal","MenuIcon","ArrowDropDownIcon","AccountDropdown","DrawerMenu","Link","Redirect","useLocation","AdFormModal","useScreenSize","FilterContext","db","Header","breed","setBreed","redirect","setRedirect","currentPathname","pathname","filter","setFilterState","desktop","states","setStates","isDropdownOpen","isDrawerOpen","open","setOpen","handleOpen","handleClose","handleDropdownOpen","event","currentStates","currentTarget","handleDropdownClose","handleDrawer","value","handleBreed","target","handleEnter","key","localStorage","setItem","JSON","stringify","renderRedirect","fetchLoggedInUser","usersCollection","collection","where","get","user","docs","map","doc","data","Promise","resolve","loggedInUser","setLoggedInUser","parse","getItem","then","response","textDecoration","logo","avatar"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAO,eAAP;AACA,SAASC,MAAT,EAAiBC,MAAjB,EAAyBC,SAAzB,EAAoCC,OAApC,EAA6CC,MAA7C,EAAqDC,UAArD,EAAiEC,MAAjE,EAAyEC,KAAzE,QAAsF,mBAAtF;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;;AAEA,OAAOC,eAAP,MAA4B,mCAA5B;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,WAAzB,QAA4C,kBAA5C;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,aAAT,QAA8B,2BAA9B;AACA,SAASC,aAAT,QAA8B,+BAA9B;AACA,SAASC,EAAT,QAAmB,gBAAnB;;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AACjB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBtB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACuB,QAAD,EAAWC,WAAX,IAA0BxB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAMyB,eAAe,GAAGV,WAAW,GAAGW,QAAtC;AAEA,QAAM;AAACC,IAAAA,MAAD;AAASC,IAAAA;AAAT,MAA2B9B,UAAU,CAACoB,aAAD,CAA3C;AAEA,QAAM;AAACW,IAAAA;AAAD,MAAYZ,aAAa,EAA/B;AAEA,QAAM,CAACa,MAAD,EAASC,SAAT,IAAsB/B,QAAQ,CAChC;AACIgC,IAAAA,cAAc,EAAE,IADpB;AAEIC,IAAAA,YAAY,EAAE;AAFlB,GADgC,CAApC;AAMA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBnC,QAAQ,CAAC,KAAD,CAAhC;;AAEA,QAAMoC,UAAU,GAAG,MAAM;AACrBD,IAAAA,OAAO,CAAC,IAAD,CAAP;AACH,GAFD;;AAIA,QAAME,WAAW,GAAG,MAAM;AACtBF,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAFD;;AAIA,QAAMG,kBAAkB,GAAIC,KAAD,IAAW;AAClCR,IAAAA,SAAS,CAACS,aAAa,KAAK,EAAC,GAAGA,aAAJ;AAAmBR,MAAAA,cAAc,EAAEO,KAAK,CAACE;AAAzC,KAAL,CAAd,CAAT;AACH,GAFD;;AAIA,QAAMC,mBAAmB,GAAG,MAAM;AAC9BX,IAAAA,SAAS,CAACS,aAAa,KAAK,EAAC,GAAGA,aAAJ;AAAmBR,MAAAA,cAAc,EAAE;AAAnC,KAAL,CAAd,CAAT;AACH,GAFD;;AAIA,QAAMW,YAAY,GAAIC,KAAD,IAAW;AAC5Bb,IAAAA,SAAS,CAACS,aAAa,KAAK,EAAC,GAAGA,aAAJ;AAAmBP,MAAAA,YAAY,EAAEW;AAAjC,KAAL,CAAd,CAAT;AACH,GAFD;;AAIA,QAAMC,WAAW,GAAIN,KAAD,IAAW;AAC3BjB,IAAAA,QAAQ,CAACiB,KAAK,CAACO,MAAN,CAAaF,KAAd,CAAR;AACH,GAFD;;AAIA,QAAMG,WAAW,GAAIR,KAAD,IAAW;AAC3B,QAAIA,KAAK,CAACS,GAAN,KAAc,OAAlB,EAA2B;AACvBC,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BC,IAAI,CAACC,SAAL,CAAe;AAAC/B,QAAAA,KAAK,EAAEA;AAAR,OAAf,CAA/B;AACAO,MAAAA,cAAc,CAAC,EAAC,GAAGD,MAAJ;AAAYN,QAAAA;AAAZ,OAAD,CAAd;;AACA,UAAII,eAAe,KAAK,GAAxB,EAA6B;AACzBD,QAAAA,WAAW,CAAC,IAAD,CAAX;AACH,OAFD,MAEO;AACHA,QAAAA,WAAW,CAAC,KAAD,CAAX;AACH;AACJ;AACJ,GAVD;;AAYA,QAAM6B,cAAc,GAAG,MAAM;AACzB,QAAI9B,QAAJ,EAAc;AACV,0BAAO,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;AACJ,GAJD;;AAMA,QAAM+B,iBAAiB,GAAG,YAAY;AAClC,UAAMC,eAAe,GAAG,MAAMpC,EAAE,CAACqC,UAAH,CAAc,OAAd,EAAuBC,KAAvB,CAA6B,IAA7B,EAAkC,IAAlC,EAAuC,SAAvC,EAAkDC,GAAlD,EAA9B;AACA,UAAMC,IAAI,GAAGJ,eAAe,CAACK,IAAhB,CAAqBC,GAArB,CAA0BC,GAAD,IAAS;AAAC,aAAOA,GAAG,CAACC,IAAJ,EAAP;AAAmB,KAAtD,EAAwD,CAAxD,CAAb;AACA,WAAOC,OAAO,CAACC,OAAR,CAAgBN,IAAhB,CAAP;AACH,GAJD;;AAMA,QAAM,CAACO,YAAD,EAAeC,eAAf,IAAkCnE,QAAQ,CAAC,EAAD,CAAhD;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACoD,IAAI,CAACiB,KAAL,CAAWnB,YAAY,CAACoB,OAAb,CAAqB,QAArB,CAAX,CAAL,EAAiD;AAC7CpB,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA8BC,IAAI,CAACC,SAAL,CAAe;AAAC/B,QAAAA,KAAK,EAAE;AAAR,OAAf,CAA9B;AACH;;AACD,QAAI8B,IAAI,CAACiB,KAAL,CAAWnB,YAAY,CAACoB,OAAb,CAAqB,QAArB,CAAX,EAA2ChD,KAA3C,KAAqD,EAAzD,EAA6D;AACzD4B,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA8BC,IAAI,CAACC,SAAL,CAAe;AAAC/B,QAAAA,KAAK,EAAE;AAAR,OAAf,CAA9B;AACH;;AACDC,IAAAA,QAAQ,CAAC6B,IAAI,CAACiB,KAAL,CAAWnB,YAAY,CAACoB,OAAb,CAAqB,QAArB,CAAX,EAA2ChD,KAA5C,CAAR;AACAiC,IAAAA,iBAAiB,GAAGgB,IAApB,CAA0BC,QAAD,IAAc;AACnCJ,MAAAA,eAAe,CAACI,QAAD,CAAf;AACH,KAFD;AAGH,GAXQ,EAWN,EAXM,CAAT;AAaA,sBACI,QAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,QAAQ,EAAC,QAAjC;AAA0C,IAAA,SAAS,EAAC,gBAApD;AAAqE,IAAA,SAAS,EAAE,CAAhF;AAAA,2BACI,QAAC,OAAD;AAAS,MAAA,SAAS,EAAC,SAAnB;AAAA,iBACK1C,OAAO,iBACJ;AAAA,gCACI,QAAC,IAAD;AAAM,UAAA,SAAS,EAAC,2BAAhB;AAA4C,UAAA,EAAE,EAAC,GAA/C;AAAmD,UAAA,KAAK,EAAE;AAAE2C,YAAAA,cAAc,EAAE;AAAlB,WAA1D;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,mCAAsB;AAAK,cAAA,GAAG,EAAEC,IAAV;AAAgB,cAAA,GAAG,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA;AAAtB;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAMI;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,iCACI,QAAC,SAAD;AAAW,YAAA,WAAW,EAAC,0BAAvB;AAA6C,YAAA,KAAK,EAAEpD,KAApD;AAA2D,YAAA,QAAQ,EAAEwB,WAArE;AAAkF,YAAA,SAAS,EAAEE,WAA7F;AAA0G,YAAA,SAAS;AAAnH;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBANJ,eASI;AAAK,UAAA,SAAS,EAAC,4BAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,6BAAf;AAAA,mCACI,QAAC,MAAD;AAAQ,cAAA,KAAK,EAAC,SAAd;AAAwB,cAAA,OAAO,EAAC,WAAhC;AAA4C,cAAA,SAAS,EAAC,qBAAtD;AAA4E,cAAA,OAAO,EAAEX,UAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAII,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAEE,kBAAjB;AAAA,oCACI,QAAC,MAAD;AAAQ,cAAA,SAAS,EAAC,eAAlB;AAAkC,cAAA,GAAG,EAAE4B,YAAY,CAACQ;AAApD;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,QAAC,iBAAD;AAAmB,cAAA,SAAS,EAAC;AAA7B;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ;AAAA,sBAFR,EAsBK,CAAC7C,OAAD,iBACG;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,0BAAf;AAAA,kCACI,QAAC,UAAD;AACI,YAAA,IAAI,EAAC,OADT;AAEI,6BAAc,MAFlB;AAGI,YAAA,SAAS,EAAC,aAHd;AAII,YAAA,OAAO,EAAE,MAAMc,YAAY,CAAC,IAAD,CAJ/B;AAAA,mCAMI,QAAC,QAAD;AAAU,cAAA,QAAQ,EAAC,OAAnB;AAA2B,cAAA,SAAS,EAAC;AAArC;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,kBADJ,eASI,QAAC,MAAD;AACI,YAAA,SAAS,EAAE,CADf;AAEI,YAAA,MAAM,EAAC,MAFX;AAGI,YAAA,IAAI,EAAEb,MAAM,CAACG,YAHjB;AAII,YAAA,OAAO,EAAE,MAAMU,YAAY,CAAC,KAAD,CAJ/B;AAAA,mCAMI,QAAC,UAAD;AAAY,cAAA,MAAM,EAAEuB,YAAY,CAACQ,MAAjC;AAAyC,cAAA,YAAY,EAAE,MAAM/B,YAAY,CAAC,KAAD,CAAzE;AAAkF,cAAA,UAAU,EAAEP;AAA9F;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,kBATJ,eAiBI,QAAC,IAAD;AAAM,YAAA,SAAS,EAAC,MAAhB;AAAuB,YAAA,EAAE,EAAC,GAA1B;AAA8B,YAAA,KAAK,EAAE;AAAEoC,cAAAA,cAAc,EAAE;AAAlB,aAArC;AAAA,mCAAiE;AAAK,cAAA,GAAG,EAAEC,IAAV;AAAgB,cAAA,GAAG,EAAC;AAApB;AAAA;AAAA;AAAA;AAAA;AAAjE;AAAA;AAAA;AAAA;AAAA,kBAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAoBI;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,iCACI,QAAC,SAAD;AAAW,YAAA,WAAW,EAAC,cAAvB;AAAiC,YAAA,KAAK,EAAEpD,KAAxC;AAA+C,YAAA,QAAQ,EAAEwB,WAAzD;AAAsE,YAAA,SAAS,EAAEE,WAAjF;AAA8F,YAAA,SAAS;AAAvG;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBApBJ;AAAA,sBAvBR,eAgDI,QAAC,eAAD;AAAiB,QAAA,MAAM,EAAEjB,MAAM,CAACE,cAAhC;AAAgD,QAAA,cAAc,EAAEU;AAAhE;AAAA;AAAA;AAAA;AAAA,cAhDJ,eAiDI,QAAC,KAAD;AACI,QAAA,IAAI,EAAER,IADV;AAEI,QAAA,OAAO,EAAEG,WAFb;AAGI,2BAAgB,oBAHpB;AAII,4BAAiB,0BAJrB;AAKI,QAAA,SAAS,EAAC,OALd;AAAA,+BAMI;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,iCACI,QAAC,WAAD;AAAa,YAAA,WAAW,EAAEA;AAA1B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,cAjDJ,EA2DKgB,cAAc,EA3DnB;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAiEH,CAjJD;;GAAMjC,M;UAGsBL,W,EAINE,a;;;KAPhBG,M;AAmJN,eAAeA,MAAf","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport './Header.scss';\nimport { AppBar, Button, InputBase, Toolbar, Avatar, IconButton, Drawer, Modal } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport logo from '../../assets/images/logo.svg';\nimport AccountDropdown from './AccountDropdown/AccountDropdown';\nimport DrawerMenu from './DrawerMenu/DrawerMenu';\nimport { Link, Redirect, useLocation } from 'react-router-dom';\nimport { AdFormModal } from '../AdFormModal/AdFormModal';\nimport { useScreenSize } from '../../hooks/useScreenSize';\nimport { FilterContext } from '../../contexts/filter-context';\nimport { db } from '../../firebase';\n\nconst Header = () => {\n    const [breed, setBreed] = useState('');\n    const [redirect, setRedirect] = useState(false);\n    const currentPathname = useLocation().pathname;\n\n    const {filter, setFilterState} = useContext(FilterContext);\n\n    const {desktop} = useScreenSize();\n\n    const [states, setStates] = useState(\n        {\n            isDropdownOpen: null,\n            isDrawerOpen: false,\n        }\n    );\n    const [open, setOpen] = useState(false);\n\n    const handleOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleDropdownOpen = (event) => {\n        setStates(currentStates => ({...currentStates, isDropdownOpen: event.currentTarget}));\n    }\n\n    const handleDropdownClose = () => {\n        setStates(currentStates => ({...currentStates, isDropdownOpen: null}));\n    }\n\n    const handleDrawer = (value) => {\n        setStates(currentStates => ({...currentStates, isDrawerOpen: value}));\n    }\n\n    const handleBreed = (event) => {\n        setBreed(event.target.value);\n    }\n\n    const handleEnter = (event) => {\n        if (event.key === 'Enter') {\n            localStorage.setItem('search', JSON.stringify({breed: breed}));\n            setFilterState({...filter, breed});\n            if (currentPathname !== '/') {\n                setRedirect(true);\n            } else {\n                setRedirect(false);\n            }\n        }\n    }\n\n    const renderRedirect = () => {\n        if (redirect) {\n            return <Redirect to='/' />;\n        }\n    }\n\n    const fetchLoggedInUser = async () => {\n        const usersCollection = await db.collection('users').where('id','==','seller1').get();\n        const user = usersCollection.docs.map((doc) => {return doc.data();})[0];\n        return Promise.resolve(user);\n    };\n\n    const [loggedInUser, setLoggedInUser] = useState({});\n\n    useEffect(() => {\n        if (!JSON.parse(localStorage.getItem('search'))) {\n            localStorage.setItem('search',JSON.stringify({breed: ''}));\n        }\n        if (JSON.parse(localStorage.getItem('search')).breed !== '') {\n            localStorage.setItem('search',JSON.stringify({breed: ''}));\n        }\n        setBreed(JSON.parse(localStorage.getItem('search')).breed);\n        fetchLoggedInUser().then((response) => {\n            setLoggedInUser(response);\n        })\n    }, [])\n\n    return (\n        <AppBar color='inherit' position='static' className='header-wrapper' elevation={0}>\n            <Toolbar className='toolbar'>\n                {desktop && (\n                    <>\n                        <Link className='toolbar-left-side desktop' to='/' style={{ textDecoration: 'none' }}>\n                            <div>D</div>\n                            <div className='logo'><img src={logo} alt='logo'/></div>\n                            <div>G &nbsp;SHOP</div>\n                        </Link>\n                        <div className='search desktop'>\n                            <InputBase placeholder='Search for a breed…' value={breed} onChange={handleBreed} onKeyDown={handleEnter} fullWidth/>\n                        </div>\n                        <div className='toolbar-right-side desktop'>\n                            <div className='submit-an-ad-button-wrapper'>\n                                <Button color='primary' variant='contained' className='submit-an-ad-button' onClick={handleOpen}>Submit an ad</Button>\n                            </div>\n                            <Button onClick={handleDropdownOpen}>\n                                <Avatar className='avatar-header' src={loggedInUser.avatar}/>\n                                <ArrowDropDownIcon className='icons-triangle icons-color' />\n                            </Button>\n                        </div>\n                    </>\n                )}\n                {!desktop && (\n                    <>\n                        <div className='toolbar-left-side mobile'>\n                            <IconButton\n                                edge='start'\n                                aria-haspopup='true'\n                                className='menu-button'\n                                onClick={() => handleDrawer(true)}\n                            >\n                                <MenuIcon fontSize='large' className='menu-icon' />\n                            </IconButton>\n                            <Drawer\n                                elevation={2}\n                                anchor='left'\n                                open={states.isDrawerOpen}\n                                onClose={() => handleDrawer(false)}\n                            >\n                                <DrawerMenu avatar={loggedInUser.avatar} handleDrawer={() => handleDrawer(false)} handleOpen={handleOpen}/>\n                            </Drawer>\n                            <Link className='logo' to='/' style={{ textDecoration: 'none' }}><img src={logo} alt='logo'/></Link>\n                        </div>\n                        <div className='search mobile'>\n                            <InputBase placeholder='Search…' value={breed} onChange={handleBreed} onKeyDown={handleEnter} fullWidth/>\n                        </div>\n                    </>\n                )}\n                <AccountDropdown isOpen={states.isDropdownOpen} handleDropdown={handleDropdownClose} />\n                <Modal\n                    open={open}\n                    onClose={handleClose}\n                    aria-labelledby='simple-modal-title'\n                    aria-describedby='simple-modal-description'\n                    className='modal'>\n                    <div className='modal-content'>\n                        <AdFormModal handleClose={handleClose}/>\n                    </div>\n                </Modal>\n                {renderRedirect()}\n            </Toolbar>\n        </AppBar>\n    );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}