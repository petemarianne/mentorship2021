{"ast":null,"code":"var _jsxFileName = \"/Users/petemarianne/WebstormProjects/DogShop/src/pages/Main/Main.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport './Main.scss';\nimport { CircularProgress } from '@material-ui/core';\nimport Pagination from '@mui/material/Pagination';\nimport Stack from '@mui/material/Stack';\nimport { Link } from 'react-router-dom';\nimport { db } from '../../firebase';\nimport Filter from '../../components/Filter/Filter';\nimport { FilterContext } from '../../contexts/filter-context';\nimport { filterAds } from '../../utils/filterAds';\nimport { useScreenSize } from '../../hooks/useScreenSize';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Main = () => {\n  _s();\n\n  const [adsData, setAdsData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [page, setPage] = useState(1);\n  const {\n    filter,\n    setFilterState\n  } = useContext(FilterContext);\n\n  const fetchAds = async () => {\n    const adsCollection = await db.collection('dogAds').get();\n    setAdsData(adsCollection.docs.map(doc => {\n      return doc.data();\n    }));\n  };\n\n  const {\n    desktop\n  } = useScreenSize();\n\n  const comparator = (item1, item2) => {\n    if (item1.price === item2.price) {\n      return item2.date - item1.date;\n    }\n\n    switch (filter.sort) {\n      case 'dateDown':\n        return item2.date - item1.date;\n\n      case 'dateUp':\n        return item1.date - item2.date;\n\n      case 'priceDown':\n        return item2.price - item1.price;\n\n      case 'priceUp':\n        return item1.price - item2.price;\n\n      default:\n        return item2.date - item1.date;\n    }\n  };\n\n  const handleChange = (event, value) => {\n    setPage(value);\n  };\n\n  const filteredArray = adsData.filter(item => filterAds(item, filter));\n  const adWrapper = filteredArray.sort(comparator).map((item, index) => {\n    if (index < filteredArray.length && index >= (page - 1) * 10 && index < page * 10) {\n      return /*#__PURE__*/_jsxDEV(Link, {\n        to: `/ad${item.id.substring(2)}`,\n        style: {\n          textDecoration: 'none',\n          color: 'black'\n        },\n        className: loading ? 'ad-wrapper none' : 'ad-wrapper',\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pic-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.picture,\n            alt: \"dog\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"breed\",\n            children: item.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"description\",\n            children: item.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price\",\n            children: [item.price, \"$\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"location-date-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [item.city, \", \", item.country]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: item.date.toDate().toLocaleString('default', {\n                day: 'numeric',\n                month: 'short',\n                hour: 'numeric',\n                minute: 'numeric'\n              }).toLowerCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {}, `empty${index}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 20\n      }, this);\n    }\n  });\n\n  const pagination = /*#__PURE__*/_jsxDEV(Stack, {\n    spacing: 2,\n    children: /*#__PURE__*/_jsxDEV(Pagination, {\n      count: filteredArray.length % 10 === 0 ? filteredArray.length / 10 : Math.trunc(filteredArray.length / 10) + 1,\n      page: page,\n      onChange: handleChange,\n      onClick: () => {\n        document.body.scrollTop = 0;\n        document.documentElement.scrollTop = 0;\n      },\n      className: filteredArray.length <= 10 || loading ? 'pagination-wrapper none' : 'pagination-wrapper'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n\n  const loadingJSX = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n      className: loading ? 'loading' : 'loading done'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 57\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 24\n  }, this);\n\n  useEffect(() => {\n    if (JSON.parse(localStorage.getItem('search'))) {\n      setFilterState(currentFilter => ({ ...currentFilter,\n        breed: JSON.parse(localStorage.getItem('search')).breed\n      }));\n    }\n\n    localStorage.setItem('search', JSON.stringify({\n      breed: ''\n    }));\n    setLoading(true);\n    fetchAds().then(() => {\n      setLoading(false);\n    });\n  }, [setFilterState]);\n  useEffect(() => {\n    setLoading(true);\n    setPage(1);\n    setTimeout(() => {\n      setLoading(false);\n    }, 1300);\n  }, [filter]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [desktop && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-page-desktop-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(Filter, {\n        isMenu: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feed-wrapper\",\n        children: [loadingJSX, !loading && adsData.length !== 0 && filteredArray.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: 'nothing-found',\n          children: \"Nothing was found for your search!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 91\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), adWrapper, pagination]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }, this), !desktop && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-page-mobile-wrapper\",\n      children: [loadingJSX, !loading && adsData.length !== 0 && filteredArray.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'nothing-found',\n        children: \"Nothing was found for your search!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 87\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), adWrapper, pagination]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Main, \"4w9t6c/57jLtotQwQbVhuaEkWOU=\", false, function () {\n  return [useScreenSize];\n});\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/petemarianne/WebstormProjects/DogShop/src/pages/Main/Main.jsx"],"names":["React","useState","useEffect","useContext","CircularProgress","Pagination","Stack","Link","db","Filter","FilterContext","filterAds","useScreenSize","Main","adsData","setAdsData","loading","setLoading","page","setPage","filter","setFilterState","fetchAds","adsCollection","collection","get","docs","map","doc","data","desktop","comparator","item1","item2","price","date","sort","handleChange","event","value","filteredArray","item","adWrapper","index","length","id","substring","textDecoration","color","picture","title","description","city","country","toDate","toLocaleString","day","month","hour","minute","toLowerCase","pagination","Math","trunc","document","body","scrollTop","documentElement","loadingJSX","JSON","parse","localStorage","getItem","currentFilter","breed","setItem","stringify","then","setTimeout"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport './Main.scss';\nimport { CircularProgress } from '@material-ui/core';\nimport Pagination from '@mui/material/Pagination';\nimport Stack from '@mui/material/Stack';\nimport { Link } from 'react-router-dom';\nimport { db } from '../../firebase';\nimport Filter from '../../components/Filter/Filter'\nimport { FilterContext } from '../../contexts/filter-context'\nimport { filterAds } from '../../utils/filterAds';\nimport { useScreenSize } from '../../hooks/useScreenSize';\n\nconst Main = () => {\n    const [adsData, setAdsData] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [page, setPage] = useState(1);\n\n    const {filter, setFilterState} = useContext(FilterContext);\n\n    const fetchAds = async () => {\n        const adsCollection = await db.collection('dogAds').get();\n        setAdsData(adsCollection.docs.map((doc) => {return doc.data();}));\n    };\n\n    const {desktop} = useScreenSize();\n\n    const comparator = (item1, item2) => {\n        if (item1.price === item2.price) {\n            return item2.date - item1.date;\n        }\n        switch (filter.sort) {\n            case 'dateDown':\n                return item2.date - item1.date;\n            case 'dateUp':\n                return item1.date - item2.date;\n            case 'priceDown':\n                return item2.price - item1.price;\n            case 'priceUp':\n                return item1.price - item2.price;\n            default:\n                return item2.date - item1.date;\n        }\n    }\n\n    const handleChange = (event, value) => {\n        setPage(value);\n    };\n\n    const filteredArray = adsData.filter(item => filterAds(item, filter));\n    const adWrapper = filteredArray.sort(comparator).map((item, index) => {\n        if (index < filteredArray.length && index >= (page - 1) * 10 && index < page * 10) {\n            return (\n                <Link\n                    to={`/ad${item.id.substring(2)}`}\n                    style={{ textDecoration: 'none', color: 'black'}}\n                    key={index}\n                    className={loading ? 'ad-wrapper none' : 'ad-wrapper'}\n                >\n                    <div className='pic-wrapper'><img src={item.picture} alt='dog'/></div>\n                    <div className='info-wrapper'>\n                        <div className='breed'>{item.title}</div>\n                        <div className='description'>{item.description}</div>\n                        <div className='price'>{item.price}$</div>\n                        <div className='location-date-wrapper'>\n                            <div>{item.city}, {item.country}</div>\n                            <div>{item.date.toDate().toLocaleString('default', {day: 'numeric', month: 'short', hour: 'numeric', minute: 'numeric'}).toLowerCase()}</div>\n                        </div>\n                    </div>\n                </Link>\n            );\n        } else {\n            return <React.Fragment key={`empty${index}`}/>;\n        }\n    });\n\n    const pagination =\n        <Stack spacing={2}>\n            <Pagination\n                count={filteredArray.length % 10 === 0 ? filteredArray.length / 10 : Math.trunc(filteredArray.length / 10) + 1}\n                page={page}\n                onChange={handleChange}\n                onClick={() => {\n                    document.body.scrollTop = 0;\n                    document.documentElement.scrollTop = 0;\n                }}\n                className={filteredArray.length <= 10 || loading ? 'pagination-wrapper none' : 'pagination-wrapper'}/>\n        </Stack>;\n\n    const loadingJSX = <div className='loading-wrapper'><CircularProgress className={loading ? 'loading' : 'loading done'}/></div>;\n\n    useEffect(() => {\n        if (JSON.parse(localStorage.getItem('search'))) {\n            setFilterState(currentFilter => ({...currentFilter, breed: JSON.parse(localStorage.getItem('search')).breed}))\n        }\n        localStorage.setItem('search', JSON.stringify({breed: ''}));\n        setLoading(true);\n        fetchAds().then(() => {\n            setLoading(false);\n        })\n    }, [setFilterState]);\n\n    useEffect(() => {\n        setLoading(true);\n        setPage(1);\n        setTimeout(() => {\n            setLoading(false);\n        }, 1300)\n    }, [filter]);\n\n    return (\n        <>\n            {desktop && (\n                <div className='main-page-desktop-wrapper'>\n                    <Filter isMenu={false}/>\n                    <div className='feed-wrapper'>\n                        {loadingJSX}\n                        {!loading && adsData.length !== 0 && filteredArray.length === 0 ? <div className={'nothing-found'}>Nothing was found for your search!</div> : <></>}\n                        {adWrapper}\n                        {pagination}\n                    </div>\n                </div>\n            )}\n            {!desktop && (\n                <div className='main-page-mobile-wrapper'>\n                    {loadingJSX}\n                    {!loading && adsData.length !== 0 && filteredArray.length === 0 ? <div className={'nothing-found'}>Nothing was found for your search!</div> : <></>}\n                    {adWrapper}\n                    {pagination}\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}